<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSULA Army Research Labs SUAS Drone Flight Path Simulator</title>
    <link rel="stylesheet" href="../styles/main.css">
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6.5.0/turf.min.js"></script>
    <script src=" https://cdn.jsdelivr.net/npm/threebox-plugin@2.2.7/dist/threebox.min.js "></script>
    <link href=" https://cdn.jsdelivr.net/npm/threebox-plugin@2.2.7/dist/threebox.min.css " rel="stylesheet">
    <script type="module" src="./js/main.js"></script>
</head>
<body>
    <div id="mySidebar" class="sidebar">
        <!-- Button to close the sidebar -->
        <div><button class="closebtn" onclick="closeNav()">Close</button> </div>
        <!-- Screen that displays maps output from the drone -->
        <div id="output">Awaiting output...</div>
        <div class="elevation-info">
            <div>Longitude: <span id="lng"></span></div>
            <div>Latitude: <span id="lat"></span></div>
            <div>Elevation: <span id="ele"></span></div>
            <div>WindSpeed M/S: <span id="wind"></span></div>
            <div>Distance:</div>
            <div id="distance" class="distance-container"></div>
	          <div>Distance (km): <span id="dtstnce"></span></div>
	          <div>Distance (mi): <span id="dtstnce-b"></span></div>
              <div>Remaining Drone Range (km): <span id="drone-distance-km"></span></div>
              <div>Remaining Drone Range (mi): <span id="drone-distance-mi"></span></div>
        </div>
        <div class="ui-grid-b">
            <div class="ui-block-a"><button id="btn-ruler-on" class="ui-block-a-btn">Ruler On</button></div>
            <div class="ui-block-a"><button id="btn-ruler-off" class="ui-block-a-btn">Ruler Off</button></div>
            <div class="ui-block-a"><button id="btn-move-drone" class="ui-block-a-btn">Move</button></div>
            <div class="ui-block-a"><button id="btn-reset-drone" class="ui-block-a-btn">Reset</button></div>
            <div class="ui-block-a"><button id="btn-spin" class="ui-block-a-btn">Pause rotation</button></div>
            <div class="ui-block-a"><button id="enemyButton" class="ui-block-a-btn">Add Enemy</button></div>
        </div>
        <div class="ui-grid-b">
            <div class="ui-block-a"><button id="weather" class="ui-block-a-btn">Wind</button></div>
            <div class="ui-block-a"><button id="toggleRadar" class="ui-block-a-btn">Toggle Radar Layer</button></div>
            <div class="ui-block-a"><button id="btn-animate" class="ui-block-a-btn">Play</button></div>
	        <div class="ui-block-a"><button id="add-detector" class="ui-block-a-btn">Add detector</button></div>
	        <div class="ui-block-a"><button id="add-no-fly-zone" class="ui-block-a-btn">Add No-Fly Zone</button></div>
            
        </div>
	<div class="elevation-info">
            <div>Drone Status: <span id="droneDetected">[Place holder]</span></div>
        </div>
        <div class="drone-info">
            <form>
                <label for="drones" style="color:white">Choose drone model:</label>
                <select name="drones" id="drones-drop-down">
                  <option value="RQ-11 Raven">RQ-11 Raven</option>
                  <option value="RQ-7 Shadow">RQ-7 Shadow</option>
                  <option value="RQ-20 Puma">RQ-20 Puma</option>
                  <option value="RQ-12A Wasp III">RQ-12A Wasp III</option>
                </select>
                <br><br>
              
            </form>
            <table border="1" style="width:250px">
                <tbody>
                    <tr>
                        <td style="color:white; width:125px">Max Altitude</td>
                        <td style="color:white; text-align:right" id="meters">meters</td>
                    </tr>
                    <tr>
                        <td style="color:white">Noise Level</td>
                        <td style="color:white; text-align:right" id="dB">dB</td>
                    </tr>
                    <tr>
                        <td style="color:white">Range</td>
                        <td style="color:white; text-align:right" id="km">km</td>
                    </tr>
                    <tr>
                        <td style="color:white">Endurance</td>
                        <td style="color:white; text-align:right" id="min">min</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div id="main">
        <!-- Button to open the side bar-->
        <button class="openbtn" onclick="openNav()">Open Sidebar</button>
        <!--Screen that displays the map-->		
        <div id="map"></div>
    </div>
    <script>
        function openNav() {
            document.getElementById("mySidebar").style.width = "310px";
            document.getElementById("main").style.marginLeft = "320px";
        }
        function closeNav() {
            document.getElementById("mySidebar").style.width = "0px";
            document.getElementById("mySidebar").style.padding = "0px";
            document.getElementById("main").style.marginLeft = "0px";
        }
    </script>
    <script type="module" src="./js/drone.js"></script>
    <script type="module" src="./js/mapClickHandlers.js"></script>
    <script type="module" src="./js/weatherHandlers.js"></script>
</body>
</html>
